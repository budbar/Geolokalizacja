<html>
    <head>
        <title>KOMUNIKACJA</title>
    </head>
    <body>
        <div class="camera">
            <video id="video">Kamera nie jest dostÄ™pna!</video>
            <canvas id="canvas"></canvas>
            <div class="output">
                <img id="photo" src=""/>
            </div>
        </div>
    </body>  
    <script>
            const width = 320;
            let height = 0;
            let streaming = false;

            const video = document.getElementById("video");
            const canvas = document.getElementById("canvas");
            const photo = document.getElementById("photo");
            const allowButton = document.getElementById("permissions-button");

            allowButton.addEventListener("click", () => {
                navigator.mediaDevices
                    .getUserMedia({ video: true, audio: false })
                    .then((stream) => {
                    video.srcObject = stream;
                    video.play();
                    })
                    .catch((err) => {
                    console.error(`An error occurred: ${err}`);
                    });
            });
</script>
</html>